<ion-view view-title="History">
    <ion-content>
        <ion-item>
            <label class="item item-input item-select">

                Filter by

                <select name="filter" id="filter"
                        ng-model="filter"
                        ng-options="stationBay.label for stationBay in stationsBays"
                        ng-change="searchByStationBay(filter)">
                </select>
            </label>
        </ion-item>

        <ion-list class="list">
            <ion-item class="item item-divider item-text-wrap" ng-repeat="n in notifications|filter:search">
                <ion-item>
                    <div class="item item-icon-left">
                        <div class="row">
                            <p ng-if="n.timestamp" class="notification-style-date">Date: {{n.timestamp}}</p>
                        </div>
                        <br/>
                        <div class="row">
                            <i ng-class="{'icon ion-alert red' :n.ackType=='ack1',
                            'icon ion-android-warning yellow':n.ackType=='ack2'}"></i>
                            <p class="notification-style-text">Station: {{n.stationName}} Bay: {{n.bayNumber}} -
                                {{n.description}}</p>
                        </div>
                    </div>
                </ion-item>
            </ion-item>
        </ion-list>
        <ion-infinite-scroll
                on-infinite="loadMore()">
        </ion-infinite-scroll>
    </ion-content>
</ion-view>
